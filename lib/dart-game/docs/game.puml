@startuml game

!define DARKBLUE
!includeurl https://raw.githubusercontent.com/Drakemor/RedDress-PlantUML/master/style.puml

class Player <<(S, #FFFF00) Struct >>
{
    + id : uint
    + points : uint
}

class GameStyle <<(E, #00FF00) Enum >>
{
    Classic
    ExtendClassic
    RandomShot
}

class Game
{
    + Game(GameStyle style)
    + addPlayer(id) : void
    + playingPlayerScoredPoints(points) : void
    + processGame() : void
    + outputGameState() : json
    + isEnd() : bool 
    + nextPlayer() : void

    - mPlayers : queue
    - mWinners : queue
    - mModeGame: ModeGame*
}

Player --* "inf" Game
GameStyle ..> Game

class ModeGame << (B, #FF0000) Base >>
{
    + createPlayer(id) : Player
    + isNextPlayer() : bool 
    + processPlayerScore(&player, score) : void
    + isPlayerWin(player) : bool
    + nextRound() : void
}

Player ..> ModeGame
ModeGame --* "1" Game

class ClassicGame extends ModeGame
{
    + ClassicGame()
    + createPlayer(id) : Player
    + isNextPlayer() : bool 
    + processPlayerScore(&player, score) : void
    + isPlayerWin(player) : bool
    + nextRound() : void

    - mAttemps : uint
}   

class ExtendClassicMode extends ClassicGame
{
    + ExtendClassicGame();
    + Player createPlayer(id) : Player
}

class RandomShotMode extends ModeGame
{
    + RandomShotMode()
    + createPlayer(id) : Player
    + isNextPlayer() : bool 
    + processPlayerScore(&player, score) : void
    + isPlayerWin(player) : bool
    + nextRound() : void

    - generateRandomNumber() : uint

    - mRandomShot : uint
    - mAttemps : uint
}


@enduml